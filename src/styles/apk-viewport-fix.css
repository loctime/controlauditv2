/* ========================================
   FIX ESPECÍFICO PARA VIEWPORT EN APK MÓVIL
   ========================================
   
   Este archivo corrige problemas específicos del viewport
   en la APK móvil que pueden causar problemas de centrado
   ======================================== */

/* ========================================
   RESET DEL VIEWPORT PARA APK
   ======================================== */

/* Reset completo del viewport para dispositivos móviles */
@media (max-width: 768px) {
  /* Reset del html */
  html {
    /* Asegurar que el viewport esté correctamente configurado */
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow-x: hidden !important;
    position: relative !important;
    
    /* Configuraciones específicas para WebView */
    -webkit-text-size-adjust: 100% !important;
    -ms-text-size-adjust: 100% !important;
    text-size-adjust: 100% !important;
    
    /* Asegurar que el viewport respete las safe areas */
    box-sizing: border-box !important;
  }

  /* Reset del body */
  body {
    /* Asegurar que el body ocupe todo el viewport */
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow-x: hidden !important;
    position: relative !important;
    
    /* Configuraciones específicas para WebView */
    -webkit-text-size-adjust: 100% !important;
    -ms-text-size-adjust: 100% !important;
    text-size-adjust: 100% !important;
    
    /* Asegurar que el body respete las safe areas */
    box-sizing: border-box !important;
    
    /* Configuraciones específicas para APK */
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: none !important;
  }

  /* Reset del root */
  #root {
    /* Asegurar que el root ocupe todo el viewport */
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow-x: hidden !important;
    position: relative !important;
    
    /* Configuraciones específicas para WebView */
    -webkit-text-size-adjust: 100% !important;
    -ms-text-size-adjust: 100% !important;
    text-size-adjust: 100% !important;
    
    /* Asegurar que el root respete las safe areas */
    box-sizing: border-box !important;
    
    /* Configuraciones específicas para APK */
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: none !important;
  }
}

/* ========================================
   FIX ESPECÍFICO PARA WEBVIEW DE ANDROID
   ======================================== */

/* Configuraciones específicas para WebView de Android */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  html, body, #root {
    /* Asegurar que el viewport esté correctamente configurado en WebView */
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow-x: hidden !important;
    
    /* Configuraciones específicas para WebView */
    -webkit-text-size-adjust: 100% !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: none !important;
  }
}

/* ========================================
   FIX ESPECÍFICO PARA SAFE AREAS EN APK
   ======================================== */

/* Configuraciones específicas para safe areas en APK */
@media (max-width: 768px) {
  /* Asegurar que las safe areas se respeten correctamente */
  html {
    /* Configurar el viewport para respetar safe areas */
    height: 100% !important;
    overflow-x: hidden !important;
  }
  
  body {
    /* Aplicar padding para respetar las safe areas */
    padding-top: env(safe-area-inset-top, 0px) !important;
    padding-bottom: env(safe-area-inset-bottom, 0px) !important;
    padding-left: env(safe-area-inset-left, 0px) !important;
    padding-right: env(safe-area-inset-right, 0px) !important;
    
    /* Asegurar que el contenido no se superponga */
    box-sizing: border-box !important;
    min-height: 100vh !important;
    min-height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px)) !important;
  }
  
  #root {
    /* Asegurar que el root respete las safe areas */
    min-height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px)) !important;
    padding-bottom: env(safe-area-inset-bottom, 0px) !important;
  }
}

/* ========================================
   FIX ESPECÍFICO PARA EL PROBLEMA DE CENTRADO
   ======================================== */

/* Fix específico para el problema de centrado en APK */
@media (max-width: 768px) {
  /* Reset completo del viewport para corregir centrado */
  html, body, #root {
    /* Forzar centrado perfecto */
    margin: 0 auto !important;
    padding: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
    
    /* Asegurar que esté centrado */
    position: relative !important;
    
    /* Configuraciones específicas para WebView */
    -webkit-text-size-adjust: 100% !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: none !important;
  }

  /* Fix específico para el contenedor principal */
  .main-app-container {
    /* Forzar centrado perfecto */
    margin: 0 auto !important;
    padding: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
    
    /* Asegurar que esté centrado */
    position: relative !important;
    
    /* Configuraciones específicas para WebView */
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: none !important;
  }
}

/* ========================================
   FIX ESPECÍFICO PARA PANTALLAS MUY PEQUEÑAS
   ======================================== */

/* Fix específico para pantallas muy pequeñas */
@media (max-width: 480px) {
  html, body, #root, .main-app-container {
    /* Reset aún más agresivo para pantallas muy pequeñas */
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
    
    /* Configuraciones específicas para WebView */
    -webkit-text-size-adjust: 100% !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: none !important;
  }
}

/* ========================================
   OVERRIDE FINAL PARA GARANTIZAR FUNCIONAMIENTO
   ======================================== */

/* Regla final que sobrescribe cualquier otra regla de viewport */
@media (max-width: 768px) {
  html, body, #root, .main-app-container {
    /* Forzar configuración correcta del viewport */
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow-x: hidden !important;
    
    /* Configuraciones específicas para WebView */
    -webkit-text-size-adjust: 100% !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: none !important;
    
    /* Asegurar que el viewport esté correctamente configurado */
    box-sizing: border-box !important;
  }
}
