// ================================
// ControlAudit ‚Äì reglas DEV claras
// ================================

// üîê Perfil de usuario (SIEMPRE primero)
match /apps/auditoria/users/{userId} {
  allow read, write: if request.auth != null
    && request.auth.uid == userId;
}

// üîì Datos de la app (empresas, auditor√≠as, formularios, etc)
match /apps/auditoria/{document=**} {
  allow read, write: if request.auth != null;
}

// üìä Colecciones en ra√≠z (empresas, sucursales, auditor√≠as, etc)
match /empresas/{empresaId} {
  allow read, write: if request.auth != null;
}

match /sucursales/{sucursalId} {
  allow read, write: if request.auth != null;
}

match /auditorias/{auditoriaId} {
  allow read, write: if request.auth != null;
}

match /formularios/{formularioId} {
  allow read, write: if request.auth != null;
}

match /empleados/{empleadoId} {
  allow read, write: if request.auth != null;
}

match /accidentes/{accidenteId} {
  allow read, write: if request.auth != null;
}

match /incidentes/{incidenteId} {
  allow read, write: if request.auth != null;
}

match /capacitaciones/{capacitacionId} {
  allow read, write: if request.auth != null;
}

match /reportes/{reporteId} {
  allow read, write: if request.auth != null;
}

match /logs/{logId} {
  allow read, write: if request.auth != null;
}

// ‚ùå Todo lo dem√°s cerrado
match /{document=**} {
  allow read, write: if false;
}
